<VirtualHost *:80>
    ServerAdmin aowp.support@accenture.com
    ServerName localhost

    DocumentRoot /opt/sites/askme

    <Directory />
        Options FollowSymLinks
        AllowOverride None
    </Directory>

    <Directory /opt/sites/askme/>
        Options Indexes FollowSymLinks MultiViews
        AllowOverride None
        Require all granted
    </Directory>

    LogLevel warn
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/ssl_access.log combined

    BrowserMatch "MSIE [2-6]" nokeepalive ssl-unclean-shutdown downgrade-1.0 force-response-1.0
    # MSIE 7 and newer should be able to use keepalive
    BrowserMatch "MSIE [17-9]" ssl-unclean-shutdown

    #<Location "/">
     #   AuthType Basic
      #  AuthName "Restricted Files"
       # AuthBasicProvider file
        #AuthUserFile /etc/apache2/passwd/passwords
        #Require user las
    #</Location>

    <Proxy *>
        Order deny,allow
        Allow from all
    </Proxy>

    ProxyRequests Off
    ProxyPreserveHost On

    # Backend proxy
    ProxyPass /api http://backend:8081/api
    ProxyPassReverse /api http://backend:8081/api

    # SOCKET.io proxy
    ProxyPass /socket.io ws://backend:8081/socket.io
</VirtualHost>